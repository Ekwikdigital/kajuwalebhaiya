function getURLVar(t){var e=[],o=String(document.location).split("?");if(o[1]){var s=o[1].split("&");for(i=0;i<s.length;i++){var a=s[i].split("=");a[0]&&a[1]&&(e[a[0]]=a[1])}return e[t]?e[t]:""}}$(document).ready(function(){$(".text-danger").each(function(){var t=$(this).parent().parent();t.hasClass("form-group")&&t.addClass("has-error")}),$("#form-currency .currency-select").on("click",function(t){t.preventDefault(),$("#form-currency input[name='code']").val($(this).attr("name")),$("#form-currency").submit()}),$("#form-language .language-select").on("click",function(t){t.preventDefault(),$("#form-language input[name='code']").val($(this).attr("name")),$("#form-language").submit()}),$("#search input[name='search']").parent().find("button").on("click",function(){var t=$("base").attr("href")+"splug",e=$("header #search input[name='search']").val();e&&(t+="&search="+encodeURIComponent(e)),location=t}),$("#search input[name='search']").on("keydown",function(t){13==t.keyCode&&$("header #search input[name='search']").parent().find("button").trigger("click")}),$("#menu .dropdown-menu").each(function(){var t=$("#menu").offset(),e=$(this).parent().offset().left+$(this).outerWidth()-(t.left+$("#menu").outerWidth());0<e&&$(this).css("margin-left","-"+(10+e)+"px")}),$("#list-view").click(function(){$("#content .product-grid > .clearfix").remove(),$("#content .row > .product-grid").attr("class","product-layout product-list col-xs-12"),$("#grid-view").removeClass("active"),$("#list-view").addClass("active"),localStorage.setItem("display","list")}),$("#grid-view").click(function(){var t=$("#column-right, #column-left").length;2==t?$("#content .product-list").attr("class","product-layout product-grid col-lg-6 col-md-6 col-sm-12 col-xs-12"):1==t?$("#content .product-list").attr("class","product-layout product-grid col-lg-4 col-md-4 col-sm-6 col-xs-12"):$("#content .product-list").attr("class","product-layout product-grid col-lg-3 col-md-3 col-sm-6 col-xs-12"),$("#list-view").removeClass("active"),$("#grid-view").addClass("active"),localStorage.setItem("display","grid")}),"list"==localStorage.getItem("display")?($("#list-view").trigger("click"),$("#list-view").addClass("active")):($("#grid-view").trigger("click"),$("#grid-view").addClass("active")),$(document).on("keydown","#collapse-checkout-option input[name='email'], #collapse-checkout-option input[name='password']",function(t){13==t.keyCode&&$("#collapse-checkout-option #button-login").trigger("click")}),$("[data-toggle='tooltip']").tooltip({container:"body",trigger:"hover"}),$(document).ajaxStop(function(){$("[data-toggle='tooltip']").tooltip({container:"body",trigger:"hover"})}),$("#custom-clear-filter").attr("href",$("#clear_filter_href").val())}),$(document).ready(function(){$("body").on("click","#view-cart-span,#view-cart-btn,#button-view-cart",function(){location.href="/index.php?route=checkout/cart"}),$("#button-payment-method").on("click",function(){$(".quickcheckout-content .radio input").attr("disabled",!0),$(".quickcheckout-content select").prop("disabled",!0),$(".quickcheckout-content input").prop("disabled",!0)})});var buynow={now:function(t,e,o){cart.add(t,e,o),window.location.href="/index.php?route=checkout/checkout"}},cart={add:function(t,e,o){$.ajax({url:"index.php?route=checkout/cart/add",type:"post",data:"__csrf="+$("#__csrf").val()+"&product_id="+t+"&quantity="+(void 0!==e?e:1),dataType:"json",success:function(e){$(".alert, .text-danger").remove(),$(".options_div").remove(),e.option_exist&&$.ajax({url:"index.php?route=product/product/add_options",type:"post",data:"product_id="+t+"&add_option=1",dataType:"html",success:function(e){var s=document.createElement("div");s.className="options_div",s.id=t,s.innerHTML=e,$(o).closest(".buy-add-cart-buttons").append(s)}}),e.redirect&&(location=e.redirect),e.success&&(setTimeout(function(){$(".cart-added-success-message").delay(2e3).fadeOut("slow")},1e3),$("#cart .cart-count").load("index.php?route=common/cart/info #cart-total"),$("body").animate({scrollTop:0},"slow",function(){$(".breadcrumb, .preethi-addtocart").after('<div class="alert alert-success cart-added-success-message"><img src="'+e.product_image+'" alt="No image" class="img-responsive cart-alert-notification" />'+e.success+'<button type="button" class="close" data-dismiss="alert">&times;</button></div>')}),$("#cart > ul").load("index.php?route=common/cart/info ul li"),""==e.view_cart_text&&(e.view_cart_text="View Cart"),$(o).html("<span id='view-cart-span'>"+e.view_cart_text+"</span>"),$(o).removeAttr("onclick"),$(o).attr("id","view-cart-btn"))},error:function(t,e,o){console.log("error.cart.add")}})},update:function(t,e){$.ajax({url:"index.php?route=checkout/cart/edit",type:"post",data:"__csrf="+$("#__csrf").val()+"&key="+t+"&quantity="+(void 0!==e?e:1),dataType:"json",beforeSend:function(){$("#cart > button").button("loading")},complete:function(){$("#cart > button").button("reset")},success:function(t){setTimeout(function(){$("#cart > button").html('<span id="cart-total"><i class="fa fa-shopping-cart"></i> '+t.total+"</span>")},100),"checkout/cart"==getURLVar("route")||"checkout/checkout"==getURLVar("route")?location="index.php?route=checkout/cart":$("#cart > ul").load("index.php?route=common/cart/info ul li")},error:function(t,e,o){console.log("error.cart.update")}})},remove:function(t){$.ajax({url:"index.php?route=checkout/cart/remove",type:"post",data:"__csrf="+$("#__csrf").val()+"&key="+t,dataType:"json",success:function(t){setTimeout(function(){},100),$("body").append('<div style="display:none">'+t.success+"</div>"),$("#cart .cart-count").load("index.php?route=common/cart/info #cart-total"),"checkout/cart"==getURLVar("route")||"checkout/checkout"==getURLVar("route")?location="index.php?route=checkout/cart":$("#cart > ul").load("index.php?route=common/cart/info ul li")},error:function(t,e,o){console.log("error.cart.remove")}})}},voucher={add:function(){},remove:function(t){$.ajax({url:"index.php?route=checkout/cart/remove",type:"post",data:"key="+t,dataType:"json",success:function(t){$("#cart .cart-count").load("index.php?route=common/cart/info #cart-total"),"checkout/cart"==getURLVar("route")||"checkout/checkout"==getURLVar("route")?location="index.php?route=checkout/cart":$("#cart > ul").load("index.php?route=common/cart/info ul li")},error:function(t,e,o){console.log("error.voucher.remove")}})}},wishlist={add:function(t){$.ajax({url:"/index.php?route=account/wishlist/add",type:"post",data:"product_id="+t,headers:{Authorization:$("#__csrf").val()},dataType:"json",success:function(e){if(e.hasOwnProperty("error")&&""!=e.error)return $("#content, .common-home .breadcrumb").parent().before('<div class="alert alert-warning cart-added-success-message"><i class="fa fa-check-circle"></i> '+e.error+' <button type="button" class="close" data-dismiss="alert">&times;</button></div>'),setTimeout(function(){$(".cart-added-success-message").fadeOut("slow")},1e3),!1;if(e.success&&!e.redirect_login){$(".wishlist-add-"+t).addClass("active"),$(".wishlist-add-"+t).addClass("wishlist-remove-"+t),$(".wishlist-add-"+t).attr("onClick","wishlist.remove("+t+")"),$(".wishlist-add-"+t).attr("data-original-title","Remove from Wish List ("+e.total_products+") "),$(".wishlist-add-"+t).removeClass("wishlist-add-"+t),$(".wishlist-span-"+t).text("Remove from Wishlist"),$("#content, .common-home .breadcrumb").parent().before('<div class="alert alert-success cart-added-success-message"><i class="fa fa-check-circle"></i> '+e.success+' <button type="button" class="close" data-dismiss="alert">&times;</button></div>'),"0"==e.total_products||0==e.total_products?$(".wishlist-link i").html('<span id="wishlist-total" style="display: none;">'):$(".wishlist-link i").html('<span id="wishlist-total">'+e.total_products+"</span>"),setTimeout(function(){$(".cart-added-success-message").fadeOut("slow")},1e3);var o=$("#store_code").val();"tiffany"==o&&(""==e.total_products&&0==e.total_products||$(".wishlist-button").addClass("active-wishlist"),$("#wishlist-button > ul").load("index.php?route=account/wishlist/wishlistPopup&popup=1 ul li")),$("span#wishlist-total").html(e.total_products),$("#wishlist-total-mob").html("MY WISH LIST ("+e.total_products+")"),$("#total-wishlist").html("My Wish List ("+e.total_products+")"),$("span#wishlist-total").css("display","block"),""==e.total_products&&$("span#wishlist-total").css("display","none"),"gasjeans"==o&&setTimeout(function(){$(".product-product #button-wishlist").css("display","none"),$("#product-name-wishlist").css("display","block"),$("#button-cart").css("width","100%")},1e3)}e.redirect_login&&("gasjeans"==o?setTimeout(function(){$(".product-product #button-wishlist").html("WISHLIST"),$("#loginModal").modal({backdrop:"static",keyboard:!1})},1e3):document.location.href=e.login_link)}})},remove:function(t){$.ajax({url:"/index.php?route=account/wishlist/remove",type:"post",data:"product_id="+t,dataType:"json",headers:{Authorization:$("#__csrf").val()},success:function(e){e.success?($(".wishlist-remove-"+t).addClass("wishlist-add-"+t),$(".wishlist-remove-"+t).attr("onClick","wishlist.add("+t+")"),$(".wishlist-remove-"+t).attr("data-original-title","Add to Wishlist"),$(".wishlist-remove-"+t).removeClass("active"),$(".wishlist-remove-"+t).removeClass("wishlist-remove-"+t),$(".wishlist-span-"+t).text("Move to Wishlist"),$("#content, .common-home .breadcrumb").parent().before('<div class="alert alert-success cart-added-success-message"><i class="fa fa-check-circle"></i> '+e.success+' <button type="button" class="close" data-dismiss="alert">&times;</button></div>'),"0"==e.total_products||0==e.total_products?$(".wishlist-link i").html('<span id="wishlist-total" style="display: none;">'):$(".wishlist-link i").html('<span id="wishlist-total">'+e.total_products+"</span>"),setTimeout(function(){$(".cart-added-success-message").fadeOut("slow")},1e3),"tiffany"==$("#store_code").val()&&(""!=e.total_products&&0!=e.total_products||$(".wishlist-button").removeClass("active-wishlist"),$(".wishlist-button > ul").load("index.php?route=account/wishlist/wishlistPopup&popup=1 ul li")),$("span#wishlist-total").html(e.total_products),"0"==e.total_products||0==e.total_products?$("#wishlist-total-mob").html("MY WISH LIST (0)"):$("#wishlist-total-mob").html("MY WISH LIST ("+e.total_products+")"),"0"==e.total_products||0==e.total_products?$("#total-wishlist").html("My Wish List (0)"):$("#total-wishlist").html("MY Wish List ("+e.total_products+")"),$("span#wishlist-total").css("display","block"),""==e.total_products&&$("span#wishlist-total").css("display","none")):!1===e.success&&"Token Mismatch"===e.error?($("#content, .common-home .breadcrumb").parent().before('<div class="alert alert-warning cart-added-success-message"><i class="fa fa-check-circle"></i> '+e.error+' <button type="button" class="close" data-dismiss="alert">&times;</button></div>'),setTimeout(function(){$(".cart-added-success-message").fadeOut("slow")},1e3)):e.error&&($("#content").parent().before('<div class="alert alert-error wishlist-success-message"><i class="fa fa-check-circle"></i> '+e.error+' <button type="button" class="close" data-dismiss="alert">&times;</button></div>'),setTimeout(function(){$(".wishlist-success-message").fadeOut("slow")},1e3),$("span#wishlist-total").html(e.total_products),$("span#wishlist-total").css("display","block"),""==e.total_products&&$("span#wishlist-total").css("display","none"))}})},notify:function(t,e,o){$.ajax({url:"/index.php?route=account/wishlist/notifyOOS",type:"post",data:{product_id:t,option_value_id:e,email:o},dataType:"json",success:function(t){t.success?($("#wishlist-notify-message").attr("style","color:Green"),$("#wishlist-notify-message").html(t.message),setTimeout(function(){$(".close").click(),$("#wishlist-notify-message").html(""),$("#email_notify").val("")},6e3)):($("#wishlist-notify-message").attr("style","color:RED;"),$("#wishlist-notify-message").html(t.message),setTimeout(function(){$(".close").click(),$("#wishlist-notify-message").html(""),$("#email_notify").val("")},15e3))},error:function(t,e,o){console.log("error.wishlist.notify")}})}},compare={add:function(t){$.ajax({url:"index.php?route=product/compare/add",type:"post",data:"product_id="+t,dataType:"json",success:function(t){$(".alert").remove(),t.success&&($("#content").parent().before('<div class="alert alert-success"><i class="fa fa-check-circle"></i> '+t.success+' <button type="button" class="close" data-dismiss="alert">&times;</button></div>'),$("#compare-total").html(t.total),$("html, body").animate({scrollTop:0},"slow"))},error:function(t,e,o){console.log("error.compare.add")}})},remove:function(){}},quickview={show:function(t,e){$.ajax({url:"/index.php?route=product/quickview/productCartView&product_id="+t+"&category_id="+e,type:"post",data:"product_id="+t+"&category_id="+e,dataType:"html",success:function(t){$("#quickview-popup").html(t),$("#quickview-popup").modal("show")},error:function(t,e,o){console.log("error quickview")}})}};function productClick(t){var e=$("input[name^='list']").val();return $.ajax({url:"index.php?route=extension/analytics/apt/productClick",type:"POST",data:"product_id="+t+"&list="+e,dataType:"json",success:function(t){if(t.pixel)return $("body").append('<div style="display:none">'+t.pixel+"</div>"),!0},error:function(t,e,o){console.log("error.product_click_gtm_pushed")}}),!0}function populateCityState(t,e,o){var s=t.val();6==s.length&&$.isNumeric(s)&&$.ajax({url:"index.php?route=checkout/checkout/getCityByPincode",type:"get",async:!0,dataType:"json",data:"pincode="+s,success:function(t){t.city&&$(e).val(t.city),t.state&&$(o).each(function(){$(this).text().trim().toUpperCase()==t.state.trim().toUpperCase()&&$(this).prop("selected","selected")})}})}function errorMessage(t,e){if(localStorage.getItem("ls_store_code"))return $("#"+t).next("span").css("color","red"),$("#"+t).next("span").html(e),!1;var o=$("<div id='errorMessage1' class ='alert alert-danger'>"+e+"</div>");return $("."+t).next("span").html(o),!1}function emptyCheck(t,e){$("#"+e).next("span").html("");var o=!0;return""==t&&(o=errorMessage(e,"This field is required")),o}function nameValidate(t,e){var o=!0;return $("#"+e).next("span").html(""),""==t?o=errorMessage(e,"This field is required"):t.length<"3"||"32"<t.length?o=errorMessage(e,"Name must be between 3 and 32 characters!"):/^[0-9a-zA-Z ]+$/.test(t)||(o=errorMessage(e,"Name must be in characters only!")),o}function emailValidate(t,e){var o=!0;return $("#"+e).next("span").html(""),""==t?o=errorMessage(e,"This field is required"):/^\b[A-Z0-9._%-]+@[A-Z0-9.-]+\.[A-Z]{2,4}\b$/i.test(t)||(o=errorMessage(e,"Please enter a valid email")),o}function mobileValidate(t,e){$("#"+e).next("span").html("");var o=!0;return"number"!=typeof(t=parseInt(t))||10!=t.toString().length?o=errorMessage(e,"Please enter a valid mobile number"):/^[6-9][0-9]{9}$/.test(t)||(o=errorMessage(e,"Please enter a valid mobile number")),o}function mobileValidateAED(t,e){$("#"+e).next("span").html("");var o=!0;return"number"!=typeof(t=parseInt(t))||9!=t.toString().length?o=errorMessage(e,"Please enter a valid mobile number"):/^(?:[234679]|5[024568])[0-9]{7}$/.test(t)||(o=errorMessage(e,"Please enter a valid mobile number")),o}function validationCreateAccount(){$("#errorMessage1").remove();var t=!0;return nameValidate($("#input-registration-firstname").val(),"firstname")||(t=!1),nameValidate($("#input-registration-lastname").val(),"lastname")||(t=!1),t}function validationEditAccount(){$("#errorMessage1").remove();var t=!0;return nameValidate($("#input-firstname").val(),"firstname")||(t=!1),nameValidate($("#input-lastname").val(),"lastname")||(t=!1),t}function validationLogin(){$("#errorMessage1").remove();var t=!0;return emailValidate($("#input-email").val(),"email")||(t=!1),t}function validationMobileLogin(){$("#errorMessage1").remove();var t=!0;return mobileValidate($("#input-mobile").val(),"telephone")||(t=!1),$("#input-otp").val()&&(t=!0),t}function startDictation(){if(document.getElementById("search_query").setAttribute("placeholder","Listening.."),$(window).width()<767&&$("header #search").after('<img class="img-responsive" style="margin-top: 200px;" src="https://cdn.anscommerce.com/temp/voice.gif" />'),window.hasOwnProperty("webkitSpeechRecognition")){var t=new webkitSpeechRecognition;t.continuous=!1,t.interimResults=!1,t.lang="en-US",t.start(),t.onresult=function(e){document.getElementById("search_query").value=e.results[0][0].transcript,t.stop(),$("header #search .fa-search").trigger("click")},t.onerror=function(e){t.stop(),document.getElementById("search_query").setAttribute("placeholder","Search")}}}function getCookie(t){var e=("; "+document.cookie).split("; "+t+"=");return 2==e.length?e.pop().split(";").shift():null}function setCookie(t,e,o,s,i){var a,r="";o&&((a=new Date).setTime(a.getTime()+24*o*60*60*1e3),r="; expires="+a.toUTCString()),document.cookie=t+"="+(e||"")+r+"; path=/"}$(document).delegate(".agree","click",function(t){t.preventDefault(),$("#modal-agree").remove();var e=this;$.ajax({url:$(e).attr("href"),type:"get",dataType:"html",success:function(t){html='<div id="modal-agree" class="modal">',html+='  <div class="modal-dialog">',html+='    <div class="modal-content">',html+='      <div class="modal-header">',html+='        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>',html+='        <h4 class="modal-title">'+$(e).text()+"</h4>",html+="      </div>",html+='      <div class="modal-body">'+t+"</div>",html+="    </div",html+="  </div>",html+="</div>",$("body").append(html),$("#modal-agree").modal("show")}})}),function(t){t.fn.autocomplete=function(e){return this.each(function(){this.timer=null,this.items=new Array,t.extend(this,e),t(this).attr("autocomplete","off"),t(this).on("focus",function(){this.request()}),t(this).on("blur",function(){setTimeout(function(t){t.hide()},200,this)}),t(this).on("keydown",function(t){switch(t.keyCode){case 27:this.hide();break;default:this.request()}}),this.click=function(e){e.preventDefault(),value=t(e.target).parent().attr("data-value"),value&&this.items[value]&&this.select(this.items[value])},this.show=function(){var e=t(this).position();t(this).siblings("ul.dropdown-menu").css({top:e.top+t(this).outerHeight(),left:e.left}),t(this).siblings("ul.dropdown-menu").show()},this.hide=function(){t(this).siblings("ul.dropdown-menu").hide()},this.request=function(){clearTimeout(this.timer),this.timer=setTimeout(function(e){e.source(t(e).val(),t.proxy(e.response,e))},200,this)},this.response=function(e){if(html="",e.length){for(i=0;i<e.length;i++)this.items[e[i].value]=e[i];for(i=0;i<e.length;i++)e[i].category||(html+='<li data-value="'+e[i].value+'"><a href="#">'+e[i].label+"</a></li>");var o=new Array;for(i=0;i<e.length;i++)e[i].category&&(o[e[i].category]||(o[e[i].category]=new Array,o[e[i].category].name=e[i].category,o[e[i].category].item=new Array),o[e[i].category].item.push(e[i]));for(i in o)for(html+='<li class="dropdown-header">'+o[i].name+"</li>",j=0;j<o[i].item.length;j++)html+='<li data-value="'+o[i].item[j].value+'"><a href="#">&nbsp;&nbsp;&nbsp;'+o[i].item[j].label+"</a></li>"}html?this.show():this.hide(),t(this).siblings("ul.dropdown-menu").html(html)},t(this).after('<ul class="dropdown-menu"></ul>'),t(this).siblings("ul.dropdown-menu").delegate("a","click",t.proxy(this.click,this))})}}(window.jQuery);